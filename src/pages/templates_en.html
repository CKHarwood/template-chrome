<div class="tabbable">
  <div class="modal-header">
    <a class="close" data-dismiss="modal">&times;</a>
    <h3>Writing Templates</h3>
    <ul class="nav nav-pills">
      <li class="active"><a data-target="#templates-introduction" data-toggle="tab">Introduction</a></li>
      <li><a data-target="#templates-simple-values" data-toggle="tab">Simple Values</a></li>
      <li><a data-target="#templates-complex-values" data-toggle="tab">Complex Values</a></li>
      <li><a data-target="#templates-options" data-toggle="tab">Options</a></li>
      <li><a data-target="#templates-functions" data-toggle="tab">Functions</a></li>
    </ul>
  </div>
  <div class="modal-body tab-content">
    <div id="templates-introduction" class="tab-pane active">
      <p>
        <strong>Template</strong> uses an advanced but simple template system that
        allows users to create and modify the content copied to the clipboard. The
        syntax is really straight-forward the following main declaration types;
      </p>
      <h4>Simple Tag</h4>
      <p>
        Tags are always surrounded by curly braces like this <code>{name}</code>.
      </p>
      <h4>Escaped Tag</h4>
      <p>
        By default, values are not escaped and in order to do so you must use double
        braces like <code>{{name}}</code>.
      </p>
      <p>
        This will escape certain characters (<code>(&amp; \ &quot; &lt; &gt;)</code>)
        so that it can be safely copied in to <abbr title="Extensible Markup Language">XML</abbr>/<abbr title="Hyper Text Markup Language">HTML</abbr>.
      </p>
      <h4>Section</h4>
      <p>
        Sections are always surrounded by opening and closing tags like this <code>{#name}...{/name}</code>
        and can be used in the following situations;
      </p>
      <ul>
        <li>
          <strong>Conditions</strong> - Only renders the section if the value is
          <em>true</em> or simply exists if it's not a boolean value
        </li>
        <li>
          <strong>Iterating</strong> - If the value is an array it will render the
          section for each enumerable item of that value
        </li>
        <li>
          <strong>Functions</strong> - Renders the outcome of the function, passing
          the contents of the section as the argument
        </li>
      </ul>
      <h4>Inverted Section</h4>
      <p>
        Inverted sections are very similar to normal sections but their tags are
        like this <code>{^name}...{/name}</code> and can be used in the following
        situations;
      </p>
      <ul>
        <li>
          <strong>Conditions</strong> - Only renders the section if the value is
          <em>false</em> or simply doesn't exist if it's not a boolean value
        </li>
        <li>
          <strong>Iterating</strong> - Only renders the section if the value is
          an empty array or map
        </li>
      </ul>
      <h4>Case Sensitivity</h4>
      <p>
        Both tags and sections are case-insensitive, therefore <code>{name}</code>
        will output the same as <code>{NaMe}</code>. However, sections must be opened
        and closed using the same case (i.e. <code>{#name}...{/NaMe}</code> will
        not work).
      </p>
      <h4>Notes</h4>
      <p>
        If you are having problems with understanding this documentation please
        <a href="https://chrome.google.com/webstore/detail/dcjnfaoifoefmnbhhlbppaebgnccfddf" target="_blank">leave a comment here</a>
        and I'll try to help you and take your comments on board, updating the documentation
        if required.
      </p>
      <p>For more examples try looking at the predefined templates.</p>
    </div>
    <div id="templates-simple-values" class="tab-pane">
      <p>
        <strong>Simple values</strong> can be accessed using the syntax <code>{name}</code>.
        Undefined values simply return an empty string.
      </p>
      <table class="table table-condensed table-bordered table-striped">
        <caption>Definitions</caption>
        <thead>
          <tr>
            <th style="width: 25%">Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>base</td>
            <td>The base domain (e.g. <em>https://www.example.com:443</em>)</td>
          </tr>
          <tr>
            <td>count</td>
            <td>The total number of templates</td>
          </tr>
          <tr>
            <td>customCount</td>
            <td>The total number of custom templates</td>
          </tr>
          <tr>
            <td>dateTime</td>
            <td>
              The current date/time in <a href="http://www.faqs.org/rfcs/rfc2822.html" target="_blank">RFC 2822</a>
              format
            </td>
          </tr>
          <tr>
            <td>directory</td>
            <td>The directory part of the path (e.g. <em>/folder/dir/</em>)</td>
          </tr>
          <tr>
            <td>favicon</td>
            <td>
              The whole <abbr title="Uniform Resource Locator">URL</abbr> of the
              page's favicon
            </td>
          </tr>
          <tr>
            <td>file</td>
            <td>The basename of the file (e.g. <em>index.html</em>)</td>
          </tr>
          <tr>
            <td>fragment/anchor</td>
            <td>The entire string after the hash (#) symbol</td>
          </tr>
          <tr>
            <td>host</td>
            <td>For example; <em>www.example.com</em>, <em>localhost</em></td>
          </tr>
          <tr>
            <td>originalTitle</td>
            <td>
              The original title of the page (may be different than <span class="label">title</span>
              if a supported extension was detected and the value of <span class="label">title</span>
              was extracted from this)
            </td>
          </tr>
          <tr>
            <td>originalUrl</td>
            <td>
              The original whole <abbr title="Uniform Resource Locator">URL</abbr>
              being parsed (may be different than <span class="label">url</span>
              if a supported extension was detected and the value of <span class="label">url</span>
              was extracted from this)
            </td>
          </tr>
          <tr>
            <td>path</td>
            <td>The path to the file (e.g. <em>/folder/dir/index.html</em>)</td>
          </tr>
          <tr>
            <td>port</td>
            <td>For example; <em>80</em>, <em>443</em></td>
          </tr>
          <tr>
            <td>protocol</td>
            <td>For example; <em>http</em>, <em>https</em>, <em>file</em></td>
          </tr>
          <tr>
            <td>query</td>
            <td>
              The entire query string if it exists (e.g. <em>item=value&amp;item2=value2</em>)
            </td>
          </tr>
          <tr>
            <td>relative</td>
            <td>
              The relative path to the file including the query string (e.g.
              <em>/folder/dir/index.html?item=value</em>)
            </td>
          </tr>
          <tr>
            <td>selection</td>
            <td>
              The currently selected text (not available on Chrome's protected pages)
            </td>
          </tr>
          <tr>
            <td>short</td>
            <td>
              The whole <abbr title="Uniform Resource Locator">URL</abbr> being
              parsed (shortened via the active <abbr title="Uniform Resource Locator">URL</abbr>
              shortener)
            </td>
          </tr>
          <tr>
            <td>title</td>
            <td>
              The title of the page or <span class="label">url</span> if the title
              could not be detected (e.g. page had not finished loading)
            </td>
          </tr>
          <tr>
            <td>url</td>
            <td>
              The whole <abbr title="Uniform Resource Locator">URL</abbr> being
              parsed
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div id="templates-complex-values" class="tab-pane">
      <p>
        <strong>Complex values</strong> are either arrays containing strings or
        maps of key/value pairs.
      </p>
      <table class="table table-condensed table-bordered table-striped">
        <caption>Definitions</caption>
        <thead>
          <tr>
            <th style="width: 25%">Name</th>
            <th style="width: 10%">Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>cookies</td>
            <td>Array</td>
            <td>
              The names of all cookies associated with <span class="label">url</span>
            </td>
          </tr>
          <tr>
            <td>coords</td>
            <td>Map</td>
            <td>
              The properties of your current physical location (e.g. <em>{'latitude':'56.490671','longitude':'-4.202646'}</em>
              - contains more)
            </td>
          </tr>
          <tr>
            <td>fparams</td>
            <td>Map</td>
            <td>
              The key/value pairs of all parameters within the hash fragment (e.g.
              <em>{'foo':'bar','fu':'baz'}</em>)
            </td>
          </tr>
          <tr>
            <td>fsegments</td>
            <td>Array</td>
            <td>The segments from the hash fragment's path</td>
          </tr>
          <tr>
            <td>params</td>
            <td>Map</td>
            <td>
              The key/value pairs of all parameters (e.g. <em>{'foo':'bar','fu':'baz'}</em>)
            </td>
          </tr>
          <tr>
            <td>popular</td>
            <td>Map</td>
            <td>
              The properties of your most popular template (e.g. <em>{'content':'{url}','shortcut':'U','title':'URL'}</em>
              - contains many more)
            </td>
          </tr>
          <tr>
            <td>segments</td>
            <td>Array</td>
            <td>
              The segments from the <abbr title="Uniform Resource Locator">URL's</abbr>
              path
            </td>
          </tr>
          <tr>
            <td>selectionLinks</td>
            <td>Array</td>
            <td>
              The <abbr title="Uniform Resource Locator">URL's</abbr> of any links
              within the currently selected text (not available on Chrome's protected
              pages)
            </td>
          </tr>
        </tbody>
      </table>
      <h4>Examples</h4>
      <p>
        These examples will be using the following <abbr title="Uniform Resource Locator">URL</abbr>;
      </p>
      <pre>http://example.com/test/index.html?foo=bar&amp;fu=baz</pre>
      <p>
        Using an array, you can do the following to iterate over all the <span class="label">segments</span>;
      </p>
<pre>
{#segments}
&lt;b&gt;{.}&lt;/b&gt;
{/segments}
</pre>
      <p>Would output the following;</p>
<pre>
&lt;b&gt;test&lt;/b&gt;
&lt;b&gt;index.html&lt;/b&gt;
</pre>
      <p>
        However, when the iterating over a map you access each item in a single
        section as follows;
      </p>
<pre>
{#params}
&lt;p&gt;foo is {foo}!&lt;/p&gt;
&lt;p&gt;fu is {fu}!&lt;/p&gt;
{/params}
{^params}
&lt;b&gt;No parameters!&lt;/b&gt;
{/params}
</pre>
      <p>Would output the following;</p>
<pre>
&lt;p&gt;foo is bar&lt;/p&gt;
&lt;p&gt;fu is faz&lt;/p&gt;
</pre>
      <p>However, if the query string was empty it would output;</p>
      <pre>&lt;b&gt;No parameters!&lt;/b&gt;</pre>
      <p>
        Using the following you can access the name and values of all available
        cookies;
      </p>
<pre>
&lt;ul&gt;
{#cookies}
&lt;li&gt;{.} = {#cookie}{.}{/cookie}&lt;/li&gt;
{/cookies}
&lt;/ul&gt;
</pre>
      <p>This will output in something like the following;</p>
<pre>
&lt;ul&gt;
&lt;li&gt;JSESSIONID = 2pkffy9ivmpfwntf12y6o4cgu&lt;/li&gt;
&lt;li&gt;__utmc = 224978569&lt;/li&gt;
&lt;/ul&gt;
</pre>
      <p>
        If you would like to embed a map of your current location you can use something
        like the this;
      </p>
<pre>
{#coords}
&lt;iframe width=&quot;425&quot; height=&quot;350&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; src=&quot;http://maps.google.com/maps?ll={latitude},{longitude}&output=embed&quot;>&lt;/iframe&gt;
&lt;br /&gt;
&lt;small&gt;&lt;a href=&quot;http://maps.google.com/maps?ll={latitude},{longitude}&source=embed&quot;>View Larger Map&lt;/a&gt;&lt;/small&gt;
{/coords}
</pre>
    </div>
    <div id="templates-options" class="tab-pane">
      <p>
        <strong>Options</strong> are values stored by the extension to reflect user
        preferences. These can either be accessed as simple tags or, more commonly,
        conditional sections.
      </p>
      <table class="table table-condensed table-bordered table-striped">
        <caption>Definitions</caption>
        <thead>
          <tr>
            <th style="width: 25%">Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>anchorTarget</td>
            <td>
              Whether or not the option to include the anchor tags <em>target</em>
              attribute is enabled
            </td>
          </tr>
          <tr>
            <td>anchorTitle</td>
            <td>
              Whether or not the option to include the anchor tags <em>title</em>
              attribute is enabled
            </td>
          </tr>
          <tr>
            <td>bitly</td>
            <td>
              Whether or not <a href="http://bit.ly" target="_blank">bit.ly</a>
              is the enabled <abbr title="Uniform Resource Locator">URL</abbr> shortener
            </td>
          </tr>
          <tr>
            <td>bitlyApiKey</td>
            <td>
              The <abbr title="Application Programming Interface">API</abbr> key
              associated with your <a href="http://bit.ly/a/account" target="_blank">bit.ly account</a>
            </td>
          </tr>
          <tr>
            <td>bitlyUsername</td>
            <td>
              The username associated with your <a href="http://bit.ly/a/account" target="_blank">bit.ly account</a>
            </td>
          </tr>
          <tr>
            <td>browser</td>
            <td>The name of the browser (<em>Chrome</em>)</td>
          </tr>
          <tr>
            <td>browserVersion</td>
            <td>
              The current version of the browser (e.g. <em>12.0.742.122</em>)
            </td>
          </tr>
          <tr>
            <td>contextMenu</td>
            <td>
              Whether or not the option to show the context-menu is enabled
            </td>
          </tr>
          <tr>
            <td>cookiesEnabled</td>
            <td>Whether or not cookies are enabled</td>
          </tr>
          <tr>
            <td>googl</td>
            <td>
              Whether or not <a href="http://goo.gl" target="_blank">goo.gl</a>
              is the enabled <abbr title="Uniform Resource Locator">URL</abbr>
              shortener
            </td>
          </tr>
          <tr>
            <td>googlOAuth</td>
            <td>
              Whether or not <a href="http://oauth.net" target="_blank">OAuth</a>
              is enabled for <a href="http://goo.gl" target="_blank">goo.gl</a>
            </td>
          </tr>
          <tr>
            <td>java</td>
            <td>
              Whether or not <a href="http://www.java.com" target="_blank">Java</a>
              is enabled
            </td>
          </tr>
          <tr>
            <td>notificationDuration</td>
            <td>The number of seconds notifications are to last</td>
          </tr>
          <tr>
            <td>notifications</td>
            <td>Whether or not the option to show notifications is enabled</td>
          </tr>
          <tr>
            <td>offline</td>
            <td>Whether or not the user is currently offline</td>
          </tr>
          <tr>
            <td>os</td>
            <td>
              The family of the current operating system (<em>Windows</em>/<em>Mac</em>/<em>Linux</em>)
            </td>
          </tr>
          <tr>
            <td>shortcuts</td>
            <td>
              Whether or not the option to allow keyboard shortcuts is enabled
            </td>
          </tr>
          <tr>
            <td>toolbarClose</td>
            <td>
              Whether or not the popup is shown when the toolbar button is clicked
            </td>
          </tr>
          <tr>
            <td>toolbarKey</td>
            <td>
              The key of the template activated when the toolbar button is clicked
            </td>
          </tr>
          <tr>
            <td>toolbarPopup</td>
            <td>
              Whether or not the popup is closed immediately after a template is
              selected
            </td>
          </tr>
          <tr>
            <td>toolbarStyle</td>
            <td>
              Whether or not the toolbar button's design is based on a template
            </td>
          </tr>
          <tr>
            <td>version</td>
            <td>
              The installed version of <strong>Template</strong> (e.g. <em class="version-replace"></em>)
            </td>
          </tr>
          <tr>
            <td>yourls</td>
            <td>
              Whether or not <a href="http://yourls.org" target="_blank">YOURLS</a>
              is the enabled <abbr title="Uniform Resource Locator">URL</abbr> shortener
            </td>
          </tr>
          <tr>
            <td>yourlsPassword</td>
            <td>
              The password associated with your <a href="http://yourls.org" target="_blank">YOURLS</a>
              installation
            </td>
          </tr>
          <tr>
            <td>yourlsSignature</td>
            <td>
              The signature associated with your <a href="http://yourls.org" target="_blank">YOURLS</a>
              installation (e.g. <em>3002a61584</em>)
            </td>
          </tr>
          <tr>
            <td>yourlsUrl</td>
            <td>
              The <abbr title="Uniform Resource Locator">URL</abbr> of your <a href="http://yourls.org" target="_blank">YOURLS</a>
              installation (e.g. <em>http://example.com/yourls-api.php</em>)
            </td>
          </tr>
          <tr>
            <td>yourlsUsername</td>
            <td>
              The username associated with your <a href="http://yourls.org" target="_blank">YOURLS</a>
              installation
            </td>
          </tr>
        </tbody>
      </table>
      <h4>Examples</h4>
      <p>
        These examples will be using the following <abbr title="Uniform Resource Locator">URL</abbr>;
      </p>
      <pre>http://example.com/test/index.html</pre>
      <p>
        To include the <em>title</em> attribute in an anchor tag only if the user
        wants it;
      </p>
      <pre>&lt;a href=&quot;{{url}}&quot;{#anchorTitle} title=&quot;{{title}}&quot;{/anchorTitle}&gt;This is a test!&lt;/a&gt;</pre>
      <p>Would output the following if this option was enabled by the user;</p>
      <pre>&lt;a href=&quot;http://example.com/test/index.html&quot; title=&quot;Test&quot;&gt;This is a test!&lt;/a&gt;</pre>
      <p>
        However, if the user disabled this option it would output as follows;
      </p>
      <pre>&lt;a href=&quot;http://example.com/test/index.html&quot;&gt;This is a test!&lt;/a&gt;</pre>
    </div>
    <div id="templates-functions" class="tab-pane">
      <p>
        <strong>Functions</strong> can be accessed using the syntax <code>{#name}value{/name}</code>
        where <em>name</em> is the name of the function and <em>value</em> is the
        value of its argument and perform more complex operations using parameters
        you provide.
      </p>
      <table class="table table-condensed table-bordered table-striped">
        <caption>Definitions</caption>
        <thead>
          <tr>
            <th style="width: 25%">Name</th>
            <th style="width: 10%">Argument</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>cookie</td>
            <td>String</td>
            <td>Access the value of the cookie provided</td>
          </tr>
          <tr>
            <td>dateTime</td>
            <td>String</td>
            <td>
              Formats the current date/time using the string provided<br>(see <a href="http://php.net/manual/en/function.date.php#refsect1-function.date-parameters" target="_blank"><abbr title="Hypertext Preprocessor">PHP</abbr>'s date</a>
              for more details)
            </td>
          </tr>
          <tr>
            <td>decode</td>
            <td>String</td>
            <td>Decodes the previously encoded text provided</td>
          </tr>
          <tr>
            <td>encode</td>
            <td>String</td>
            <td>
              Encodes the text provided so that it can be safely used in a query
              string
            </td>
          </tr>
          <tr>
            <td>fparam</td>
            <td>String</td>
            <td>
              Access the value of the parameter provided from within the hash fragment
            </td>
          </tr>
          <tr>
            <td>fsegment</td>
            <td>Number</td>
            <td>
              Access the value of the segment provided from within the hash fragment
            </td>
          </tr>
          <tr>
            <td>param</td>
            <td>String</td>
            <td>Access the value of the parameter provided</td>
          </tr>
          <tr>
            <td>segment</td>
            <td>Number</td>
            <td>Access the value of the segment provided</td>
          </tr>
        </tbody>
      </table>
      <h4>Notes</h4>
      <p>
        The following notes apply to <span class="label">segment</span>/<span class="label">fsegment</span>;
      </p>
      <ul>
        <li>
          The count is not zero-indexed like an array (i.e. <code>{#segment}1{/segment}</code>
          returns the first segment, not the second one)
        </li>
        <li>
          The argument can be negative values, in which case it will count back
          from the end of the path rather than forwards from the start
        </li>
      </ul>
      <h4>Examples</h4>
      <p>
        These examples will be using the following <abbr title="Uniform Resource Locator">URL</abbr>;
      </p>
      <pre>http://example.com/test/index.html?foo=bar&amp;fu=baz</pre>
      <p>
        To output the current date/time in <a href="http://en.wikipedia.org/wiki/ISO_8601" target="_blank">ISO 8601</a>
        format you would use;
      </p>
      <pre>{#dateTime}Y-m-d\TH:i:sP{/dateTime}</pre>
      <p>
        Also, the <em>c</em> parameter would also have the same outcome.
      </p>
      <p>
        If you wanted to pass the whole <abbr title="Uniform Resource Locator">URL</abbr>
        as parameter;
      </p>
      <pre>{#encode}{url}{/encode}</pre>
      <p>
        Would escape all the characters of the <abbr title="Uniform Resource Locator">URL</abbr>
        and output the following;
      </p>
      <pre>http%3A%2F%2Fexample.com%2Ftest%2Findex.html%3Ffoo%3Dbar%26fu%3Dbaz</pre>
      <p>To access the 2nd <span class="label">segment</span>;</p>
      <pre>&lt;p&gt;{#segment}2{/segment}&lt;/p&gt;</pre>
      <p>Would output the following;</p>
      <pre>&lt;p&gt;index.html&lt;/p&gt;</pre>
      <p>However, to access the value of the <em>foo</em> parameter;</p>
      <pre>&lt;b&gt;{#param}foo{/param}&lt;/b&gt;</pre>
      <p>Would output the following;</p>
      <pre>&lt;b&gt;bar&lt;/b&gt;</pre>
    </div>
  </div>
</div>