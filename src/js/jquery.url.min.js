(function(a,b){function j(a,b){var c=decodeURI(a),e=f[b||!1?"strict":"loose"].exec(c),i={attr:{},param:{},seg:{}},j=14;while(j--)i.attr[d[j]]=e[j]||"";i.param.query={};i.param.fragment={};i.attr.query.replace(g,function(a,b,c){b&&(i.param.query[b]=c)});i.attr.fragment.replace(h,function(a,b,c){b&&(i.param.fragment[b]=c)});i.seg.path=i.attr.path.replace(/^\/+|\/+$/g,"").split("/");i.seg.fragment=i.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");i.attr.base=i.attr.host?i.attr.protocol+"://"+i.attr.host+(i.attr.port?":"+i.attr.port:""):"";return i}function i(a){var d=a.tagName;return d===b?d:c[d.toLowerCase()]}var c={a:"href",base:"href",form:"action",iframe:"src",img:"src",link:"href",script:"src"},d=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],e={anchor:"fragment"},f={loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/},g=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,h=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;a.fn.url=function(b){var c={strict:b,url:""};this.length&&(c.url=a(this).attr(i(this[0]))||"");return a.url(c)};a.url=function(a){var c={},d=!1,f="";if(typeof a=="string")f=a;else{a=a||{};d=a.strict||d;f=a.url===b?window.location.toString():a.url}c={attr:function(a){a=e[a]||a;return a!==b?this.data.attr[a]:this.data.attr},data:j(f,d),fparam:function(a){return a!==b?this.data.param.fragment[a]:this.data.param.fragment},fsegment:function(a){if(a===b)return this.data.seg.fragment;a=a<0?this.data.seg.fragment.length+a:a-1;return this.data.seg.fragment[a]},param:function(a){return a!==b?this.data.param.query[a]:this.data.param.query},segment:function(a){if(a===b)return this.data.seg.path;a=a<0?this.data.seg.path.length+a:a-1;return this.data.seg.path[a]}};return c}})(jQuery)